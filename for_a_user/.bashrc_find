search() {

    # Run a 'find "<TOP_DIR>" -name "<FILE>" -exec grep -H "<REG_EXP>" {} \;'
    # command, which helps finding text files containing lines that match a
    # regular expression.
    #
    # TOP_DIR defaults to the current directory.
    #
    # Wild cards characters are allowed in FILE (e.g; "*.c").
    #
    # USAGE:
    #
    #     search REG_EXP FILE [TOP_DIR]
    #
    # EXAMPLES:
    #
    #     search "my_function(" "*.c"
    #
    #     search "my_function(" "*.c" my_source_tree_root

    local SEARCHTOP=.;

    [ $# -lt 1 ] \
        && echo "Regular expression expected as first argument">&2 && return 1;
    [ $# -lt 2 ] \
        && echo "File filter (e.g. \"*.c\") expected as second argument"\
        >&2 && return 1;

    [ $# -gt 2 ] && SEARCHTOP="$3";

    find "$SEARCHTOP" -name "$2" -exec grep -H "$1" {} \;

}

find_by_modif_date() {

    # Run a find command, with instructions added so that the resulting file
    # list is displayed sorted by modification date (most recent last) and
    # prefixed with modification date and time.
    #
    # USAGE:
    #
    #     find_by_modif_date [FIND_COMMAND_OPTIONS]
    #
    # EXAMPLES:
    #
    #     find_by_modif_date . -name "*.c"
    #
    #     find_by_modif_date . -type f

    find $@ -exec stat --format '%Y :%y %n' "{}" \; | sort -n | cut -d: -f2-;

}
